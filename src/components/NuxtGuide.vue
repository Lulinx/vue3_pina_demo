<template>
  <div class="nuxt-guide">
    <div class="guide-header">
      <h1>ğŸš€ NUXT.JS åŸºç¡€çŸ¥è¯†å®Œæ•´æŒ‡å—</h1>
      <p class="subtitle">åŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ - æœåŠ¡ç«¯æ¸²æŸ“å’Œé™æ€ç«™ç‚¹ç”Ÿæˆ</p>
    </div>

    <div class="guide-content">
      <!-- 1. NUXT.JS ç®€ä»‹ -->
      <section class="guide-section">
        <h2>1ï¸âƒ£ ä»€ä¹ˆæ˜¯ NUXT.JSï¼Ÿ</h2>
        <div class="content-box">
          <p><strong>NUXT.JS</strong> æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ï¼Œé€šè¿‡å¯¹å®¢æˆ·ç«¯/æœåŠ¡ç«¯åŸºç¡€æ¶æ„çš„æŠ½è±¡ç»„ç»‡ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå¼€å‘ Web åº”ç”¨ã€‚å®ƒä¸»è¦å…³æ³¨åº”ç”¨çš„ UI æ¸²æŸ“ï¼ŒåŒæ—¶æä¾›å¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼Œå¸®åŠ©ä½ å®Œæˆåº”ç”¨å¼€å‘ã€‚</p>
          <ul class="feature-list">
            <li>âœ… æœåŠ¡ç«¯æ¸²æŸ“ (SSR) - æå‡ SEO å’Œé¦–å±åŠ è½½é€Ÿåº¦</li>
            <li>âœ… é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG) - é¢„æ¸²æŸ“æ‰€æœ‰é¡µé¢</li>
            <li>âœ… è‡ªåŠ¨ä»£ç åˆ†å‰² - ä¼˜åŒ–æ€§èƒ½</li>
            <li>âœ… æ–‡ä»¶ç³»ç»Ÿè·¯ç”± - åŸºäºæ–‡ä»¶ç»“æ„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±</li>
            <li>âœ… å¼ºå¤§çš„æ•°æ®è·å– - asyncData å’Œ fetch</li>
            <li>âœ… ä¸­é—´ä»¶æ”¯æŒ - é¡µé¢æ¸²æŸ“å‰æ‰§è¡Œé€»è¾‘</li>
            <li>âœ… æ¨¡å—åŒ–æ¶æ„ - ä¸°å¯Œçš„æ¨¡å—ç”Ÿæ€</li>
          </ul>
        </div>
      </section>

      <!-- 2. é¡¹ç›®ç»“æ„ -->
      <section class="guide-section">
        <h2>2ï¸âƒ£ é¡¹ç›®ç»“æ„</h2>
        <div class="content-box">
          <pre class="code-block"><code>nuxt-project/
â”œâ”€â”€ assets/          # æœªç¼–è¯‘çš„èµ„æºæ–‡ä»¶ï¼ˆCSSã€å›¾ç‰‡ç­‰ï¼‰
â”œâ”€â”€ components/     # Vue ç»„ä»¶
â”œâ”€â”€ layouts/        # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”œâ”€â”€ pages/          # é¡µé¢ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ index.vue   # å¯¹åº”è·¯ç”± /
â”‚   â”œâ”€â”€ about.vue   # å¯¹åº”è·¯ç”± /about
â”‚   â””â”€â”€ users/
â”‚       â”œâ”€â”€ index.vue    # å¯¹åº”è·¯ç”± /users
â”‚       â””â”€â”€ _id.vue      # å¯¹åº”è·¯ç”± /users/:id
â”œâ”€â”€ plugins/        # æ’ä»¶ç›®å½•
â”œâ”€â”€ static/         # é™æ€æ–‡ä»¶ï¼ˆç›´æ¥è®¿é—®ï¼‰
â”œâ”€â”€ store/          # Vuex çŠ¶æ€ç®¡ç†
â”œâ”€â”€ nuxt.config.js  # NUXT é…ç½®æ–‡ä»¶
â””â”€â”€ package.json</code></pre>
        </div>
      </section>

      <!-- 3. å®‰è£…å’Œåˆ›å»ºé¡¹ç›® -->
      <section class="guide-section">
        <h2>3ï¸âƒ£ å®‰è£…å’Œåˆ›å»ºé¡¹ç›®</h2>
        <div class="content-box">
          <h3>3.1 ä½¿ç”¨ create-nuxt-app</h3>
          <pre class="code-block"><code># ä½¿ç”¨ npx
npx create-nuxt-app my-project

# æˆ–ä½¿ç”¨ yarn
yarn create nuxt-app my-project

# å®‰è£…è¿‡ç¨‹ä¸­ä¼šè¯¢é—®ï¼š
# - é¡¹ç›®åç§°
# - ç¼–ç¨‹è¯­è¨€ (JavaScript/TypeScript)
# - åŒ…ç®¡ç†å™¨ (npm/yarn/pnpm)
# - UI æ¡†æ¶ (None/Tailwind/Bootstrapç­‰)
# - æ¨¡å— (Axios/PWAç­‰)
# - å¼€å‘å·¥å…· (ESLint/Prettierç­‰)
# - æµ‹è¯•æ¡†æ¶
# - æ¸²æŸ“æ¨¡å¼ (SSR/SSG/SPA)</code></pre>

          <h3>3.2 æ‰‹åŠ¨å®‰è£…</h3>
          <pre class="code-block"><code># åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my-nuxt-app
cd my-nuxt-app

# åˆå§‹åŒ– package.json
npm init -y

# å®‰è£… NUXT
npm install nuxt

# åœ¨ package.json ä¸­æ·»åŠ è„šæœ¬
{
  "scripts": {
    "dev": "nuxt",
    "build": "nuxt build",
    "start": "nuxt start",
    "generate": "nuxt generate"
  }
}</code></pre>
        </div>
      </section>

      <!-- 4. è·¯ç”±ç³»ç»Ÿ -->
      <section class="guide-section">
        <h2>4ï¸âƒ£ è·¯ç”±ç³»ç»Ÿ</h2>
        <div class="content-box">
          <h3>4.1 æ–‡ä»¶ç³»ç»Ÿè·¯ç”±</h3>
          <p>NUXT ä¼šæ ¹æ® <code>pages</code> ç›®å½•ç»“æ„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±ï¼š</p>
          <pre class="code-block"><code>pages/
â”œâ”€â”€ index.vue          â†’ /
â”œâ”€â”€ about.vue          â†’ /about
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ index.vue      â†’ /users
â”‚   â””â”€â”€ _id.vue        â†’ /users/:id
â””â”€â”€ blog/
    â”œâ”€â”€ index.vue      â†’ /blog
    â””â”€â”€ [slug].vue     â†’ /blog/:slug</code></pre>

          <h3>4.2 åŠ¨æ€è·¯ç”±</h3>
          <pre class="code-block"><code>// pages/users/_id.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;ç”¨æˆ·è¯¦æƒ…&lt;/h1&gt;
    &lt;p&gt;ç”¨æˆ·ID: &#123;&#123; $route.params.id &#125;&#125;&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// ä½¿ç”¨ useRoute è·å–è·¯ç”±ä¿¡æ¯
const route = useRoute()
console.log(route.params.id)
&lt;/script&gt;</code></pre>

          <h3>4.3 åµŒå¥—è·¯ç”±</h3>
          <pre class="code-block"><code>// pages/parent.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;çˆ¶é¡µé¢&lt;/h1&gt;
    &lt;NuxtChild /&gt;  &lt;!-- å­è·¯ç”±å‡ºå£ --&gt;
  &lt;/div&gt;
&lt;/template&gt;

// pages/parent/child.vue
&lt;template&gt;
  &lt;div&gt;å­é¡µé¢å†…å®¹&lt;/div&gt;
&lt;/template&gt;

// è·¯ç”±ç»“æ„: /parent â†’ /parent/child</code></pre>

          <h3>4.4 ç¼–ç¨‹å¼å¯¼èˆª</h3>
          <pre class="code-block"><code>&lt;script setup&gt;
// ä½¿ç”¨ useRouter
const router = useRouter()

// å¯¼èˆªåˆ°æŒ‡å®šè·¯ç”±
router.push('/about')
router.push({ path: '/users', query: { page: 1 } })
router.push({ name: 'users-id', params: { id: 123 } })

// è¿”å›ä¸Šä¸€é¡µ
router.back()

// æ›¿æ¢å½“å‰è·¯ç”±
router.replace('/login')
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click="router.push('/about')"&gt;è·³è½¬åˆ°å…³äºé¡µ&lt;/button&gt;
&lt;/template&gt;</code></pre>
        </div>
      </section>

      <!-- 5. é¡µé¢å’Œå¸ƒå±€ -->
      <section class="guide-section">
        <h2>5ï¸âƒ£ é¡µé¢å’Œå¸ƒå±€</h2>
        <div class="content-box">
          <h3>5.1 é¡µé¢ç»„ä»¶</h3>
          <pre class="code-block"><code>// pages/about.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;å…³äºæˆ‘ä»¬&lt;/h1&gt;
    &lt;p&gt;è¿™æ˜¯å…³äºé¡µé¢&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// é¡µé¢å…ƒä¿¡æ¯
useHead({
  title: 'å…³äºæˆ‘ä»¬',
  meta: [
    { name: 'description', content: 'å…³äºæˆ‘ä»¬çš„æè¿°' }
  ]
})
&lt;/script&gt;</code></pre>

          <h3>5.2 å¸ƒå±€ç»„ä»¶</h3>
          <pre class="code-block"><code>// layouts/default.vue
&lt;template&gt;
  &lt;div class="layout"&gt;
    &lt;header&gt;
      &lt;nav&gt;
        &lt;NuxtLink to="/"&gt;é¦–é¡µ&lt;/NuxtLink&gt;
        &lt;NuxtLink to="/about"&gt;å…³äº&lt;/NuxtLink&gt;
      &lt;/nav&gt;
    &lt;/header&gt;
    &lt;main&gt;
      &lt;slot /&gt;  &lt;!-- é¡µé¢å†…å®¹ --&gt;
    &lt;/main&gt;
    &lt;footer&gt;Footer&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

// ä½¿ç”¨è‡ªå®šä¹‰å¸ƒå±€
// pages/about.vue
&lt;script setup&gt;
definePageMeta({
  layout: 'custom'  // ä½¿ç”¨ layouts/custom.vue
})
&lt;/script&gt;</code></pre>

          <h3>5.3 NuxtLink ç»„ä»¶</h3>
          <pre class="code-block"><code>&lt;template&gt;
  &lt;div&gt;
    &lt;!-- åŸºç¡€ç”¨æ³• --&gt;
    &lt;NuxtLink to="/about"&gt;å…³äº&lt;/NuxtLink&gt;
    
    &lt;!-- å¸¦å‚æ•° --&gt;
    &lt;NuxtLink :to="{ path: '/users', query: { id: 1 } }"&gt;
      ç”¨æˆ·è¯¦æƒ…
    &lt;/NuxtLink&gt;
    
    &lt;!-- å¤–éƒ¨é“¾æ¥ --&gt;
    &lt;NuxtLink to="https://nuxtjs.org" external&gt;
      NUXT å®˜ç½‘
    &lt;/NuxtLink&gt;
    
    &lt;!-- é¢„å–æ•°æ® --&gt;
    &lt;NuxtLink to="/about" prefetch&gt;å…³äº&lt;/NuxtLink&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
        </div>
      </section>

      <!-- 6. æ•°æ®è·å– -->
      <section class="guide-section">
        <h2>6ï¸âƒ£ æ•°æ®è·å–</h2>
        <div class="content-box">
          <h3>6.1 useFetch (æ¨è)</h3>
          <pre class="code-block"><code>&lt;script setup&gt;
// useFetch ä¼šè‡ªåŠ¨å¤„ç†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ•°æ®è·å–
const { data, pending, error, refresh } = await useFetch('/api/users')

// å¸¦å‚æ•°
const { data: user } = await useFetch('/api/user', {
  params: { id: 1 },
  query: { page: 1 }
})

// å“åº”å¼æ•°æ®
const userId = ref(1)
const { data: user } = await useFetch(`/api/user/${userId.value}`, {
  watch: [userId]  // å½“ userId å˜åŒ–æ—¶é‡æ–°è·å–
})
&lt;/script&gt;

&lt;template&gt;
  &lt;div v-if="pending"&gt;åŠ è½½ä¸­...&lt;/div&gt;
  &lt;div v-else-if="error"&gt;é”™è¯¯: &#123;&#123; error.message &#125;&#125;&lt;/div&gt;
  &lt;div v-else&gt;
    &lt;pre&gt;&#123;&#123; data &#125;&#125;&lt;/pre&gt;
    &lt;button @click="refresh()"&gt;åˆ·æ–°&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

          <h3>6.2 useAsyncData</h3>
          <pre class="code-block"><code>&lt;script setup&gt;
// æ›´çµæ´»çš„æ•°æ®è·å–æ–¹å¼
const { data, error, pending } = await useAsyncData('users', () => {
  return $fetch('/api/users')
})

// ä½¿ç”¨è‡ªå®šä¹‰ key
const { data: posts } = await useAsyncData('posts', async () => {
  const response = await fetch('https://api.example.com/posts')
  return response.json()
})
&lt;/script&gt;</code></pre>

          <h3>6.3 $fetch</h3>
          <pre class="code-block"><code>&lt;script setup&gt;
// åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥ä½¿ç”¨
const users = await $fetch('/api/users')

// POST è¯·æ±‚
const newUser = await $fetch('/api/users', {
  method: 'POST',
  body: {
    name: 'John',
    email: 'john@example.com'
  }
})
&lt;/script&gt;</code></pre>
        </div>
      </section>

      <!-- 7. çŠ¶æ€ç®¡ç† -->
      <section class="guide-section">
        <h2>7ï¸âƒ£ çŠ¶æ€ç®¡ç†</h2>
        <div class="content-box">
          <h3>7.1 ä½¿ç”¨ Pinia (NUXT 3 æ¨è)</h3>
          <pre class="code-block"><code>// stores/user.js
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  state: () => ({
    user: null,
    isAuthenticated: false
  }),
  
  actions: {
    async login(credentials) {
      const user = await $fetch('/api/login', {
        method: 'POST',
        body: credentials
      })
      this.user = user
      this.isAuthenticated = true
    },
    
    logout() {
      this.user = null
      this.isAuthenticated = false
    }
  }
})

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
&lt;script setup&gt;
const userStore = useUserStore()
await userStore.login({ email, password })
&lt;/script&gt;</code></pre>

          <h3>7.2 ä½¿ç”¨ useState (ç»„åˆå¼ API)</h3>
          <pre class="code-block"><code>&lt;script setup&gt;
// useState åˆ›å»ºè·¨ç»„ä»¶çš„å“åº”å¼çŠ¶æ€
const counter = useState('counter', () => 0)

// ä½¿ç”¨
counter.value++

// åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´å…±äº«çŠ¶æ€
const user = useState('user', () => null)
&lt;/script&gt;</code></pre>
        </div>
      </section>

      <!-- 8. ä¸­é—´ä»¶ -->
      <section class="guide-section">
        <h2>8ï¸âƒ£ ä¸­é—´ä»¶</h2>
        <div class="content-box">
          <h3>8.1 åˆ›å»ºä¸­é—´ä»¶</h3>
          <pre class="code-block"><code>// middleware/auth.js
export default defineNuxtRouteMiddleware((to, from) => {
  const userStore = useUserStore()
  
  // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•
  if (!userStore.isAuthenticated) {
    return navigateTo('/login')
  }
})

// åœ¨é¡µé¢ä¸­ä½¿ç”¨
// pages/dashboard.vue
&lt;script setup&gt;
definePageMeta({
  middleware: 'auth'  // ä½¿ç”¨ auth ä¸­é—´ä»¶
})
&lt;/script&gt;</code></pre>

          <h3>8.2 å…¨å±€ä¸­é—´ä»¶</h3>
          <pre class="code-block"><code>// middleware/global.js
export default defineNuxtRouteMiddleware((to, from) => {
  // æ¯ä¸ªè·¯ç”±éƒ½ä¼šæ‰§è¡Œ
  console.log('å¯¼èˆªåˆ°:', to.path)
})

// nuxt.config.js
export default {
  router: {
    middleware: 'global'
  }
}</code></pre>
        </div>
      </section>

      <!-- 9. æ’ä»¶ -->
      <section class="guide-section">
        <h2>9ï¸âƒ£ æ’ä»¶</h2>
        <div class="content-box">
          <h3>9.1 åˆ›å»ºæ’ä»¶</h3>
          <pre class="code-block"><code>// plugins/my-plugin.client.js (ä»…åœ¨å®¢æˆ·ç«¯è¿è¡Œ)
export default defineNuxtPlugin((nuxtApp) => {
  // æ·»åŠ å…¨å±€å±æ€§
  nuxtApp.provide('hello', (name) => `Hello ${name}!`)
  
  // æ·»åŠ å…¨å±€æ–¹æ³•
  return {
    provide: {
      utils: {
        formatDate: (date) => {
          return new Date(date).toLocaleDateString()
        }
      }
    }
  }
})

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
&lt;script setup&gt;
const { $hello, $utils } = useNuxtApp()
console.log($hello('World'))
console.log($utils.formatDate(new Date()))
&lt;/script&gt;</code></pre>

          <h3>9.2 ç¬¬ä¸‰æ–¹åº“æ’ä»¶</h3>
          <pre class="code-block"><code>// plugins/vue-toastification.client.js
import Toast from 'vue-toastification'
import 'vue-toastification/dist/index.css'

export default defineNuxtPlugin((nuxtApp) => {
  nuxtApp.vueApp.use(Toast)
})</code></pre>
        </div>
      </section>

      <!-- 10. é…ç½® -->
      <section class="guide-section">
        <h2>ğŸ”Ÿ é…ç½®æ–‡ä»¶</h2>
        <div class="content-box">
          <h3>10.1 nuxt.config.js</h3>
          <pre class="code-block"><code>// nuxt.config.js
export default defineNuxtConfig({
  // åº”ç”¨é…ç½®
  app: {
    head: {
      title: 'My NUXT App',
      meta: [
        { charset: 'utf-8' },
        { name: 'viewport', content: 'width=device-width, initial-scale=1' }
      ],
      link: [
        { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }
      ]
    }
  },
  
  // CSS é…ç½®
  css: ['~/assets/css/main.css'],
  
  // æ¨¡å—
  modules: ['@nuxtjs/axios', '@nuxtjs/tailwindcss'],
  
  // è¿è¡Œæ—¶é…ç½®
  runtimeConfig: {
    // ç§æœ‰é…ç½®ï¼ˆä»…åœ¨æœåŠ¡ç«¯å¯ç”¨ï¼‰
    apiSecret: process.env.API_SECRET,
    
    // å…¬å…±é…ç½®ï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ç”¨ï¼‰
    public: {
      apiBase: process.env.API_BASE_URL || 'http://localhost:3000'
    }
  },
  
  // å¼€å‘æœåŠ¡å™¨é…ç½®
  devServer: {
    port: 3000,
    host: 'localhost'
  }
})</code></pre>

          <h3>10.2 ç¯å¢ƒå˜é‡</h3>
          <pre class="code-block"><code>// .env
API_SECRET=my-secret-key
API_BASE_URL=https://api.example.com

// .env.local (æœ¬åœ°å¼€å‘ï¼Œä¸æäº¤åˆ° Git)
API_SECRET=local-secret

// ä½¿ç”¨ç¯å¢ƒå˜é‡
// nuxt.config.js
export default defineNuxtConfig({
  runtimeConfig: {
    apiSecret: process.env.API_SECRET,
    public: {
      apiBase: process.env.API_BASE_URL
    }
  }
})

// åœ¨ä»£ç ä¸­ä½¿ç”¨
const config = useRuntimeConfig()
console.log(config.public.apiBase)</code></pre>
        </div>
      </section>

      <!-- 11. ç»„ä»¶ -->
      <section class="guide-section">
        <h2>1ï¸âƒ£1ï¸âƒ£ ç»„ä»¶ç³»ç»Ÿ</h2>
        <div class="content-box">
          <h3>11.1 è‡ªåŠ¨å¯¼å…¥ç»„ä»¶</h3>
          <pre class="code-block"><code>// components/Button.vue
&lt;template&gt;
  &lt;button :class="variant"&gt;
    &lt;slot /&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
defineProps({
  variant: {
    type: String,
    default: 'primary'
  }
})
&lt;/script&gt;

// åœ¨ä»»ä½•é¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å¯¼å…¥
&lt;template&gt;
  &lt;Button variant="primary"&gt;ç‚¹å‡»æˆ‘&lt;/Button&gt;
&lt;/template&gt;</code></pre>

          <h3>11.2 ç»„ä»¶å‘½å</h3>
          <pre class="code-block"><code>// components/base/Button.vue â†’ &lt;BaseButton /&gt;
// components/ui/Input.vue â†’ &lt;UiInput /&gt;
// components/UserCard.vue â†’ &lt;UserCard /&gt;

// ç¦ç”¨è‡ªåŠ¨å¯¼å…¥å‰ç¼€
// nuxt.config.js
export default defineNuxtConfig({
  components: [
    {
      path: '~/components',
      pathPrefix: false  // ä¸ä½¿ç”¨å‰ç¼€
    }
  ]
})</code></pre>
        </div>
      </section>

      <!-- 12. éƒ¨ç½² -->
      <section class="guide-section">
        <h2>1ï¸âƒ£2ï¸âƒ£ éƒ¨ç½²</h2>
        <div class="content-box">
          <h3>12.1 æ„å»ºå‘½ä»¤</h3>
          <pre class="code-block"><code># å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬ (SSR)
npm run build
npm run start

# ç”Ÿæˆé™æ€ç«™ç‚¹ (SSG)
npm run generate

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview</code></pre>

          <h3>12.2 éƒ¨ç½²åˆ° Vercel</h3>
          <pre class="code-block"><code># å®‰è£… Vercel CLI
npm i -g vercel

# éƒ¨ç½²
vercel

# æˆ–é€šè¿‡ GitHub é›†æˆè‡ªåŠ¨éƒ¨ç½²</code></pre>

          <h3>12.3 éƒ¨ç½²åˆ°æœåŠ¡å™¨</h3>
          <pre class="code-block"><code># 1. æ„å»ºé¡¹ç›®
npm run build

# 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start

# æˆ–ä½¿ç”¨ PM2
pm2 start npm --name "nuxt-app" -- start

# 3. ä½¿ç”¨ Nginx åå‘ä»£ç†
# /etc/nginx/sites-available/nuxt
server {
  listen 80;
  server_name example.com;
  
  location / {
    proxy_pass http://localhost:3000;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
  }
}</code></pre>
        </div>
      </section>

      <!-- 13. æœ€ä½³å®è·µ -->
      <section class="guide-section">
        <h2>1ï¸âƒ£3ï¸âƒ£ æœ€ä½³å®è·µ</h2>
        <div class="content-box">
          <ul class="practice-list">
            <li>
              <strong>1. ä½¿ç”¨ useFetch å’Œ useAsyncDataï¼š</strong>å……åˆ†åˆ©ç”¨ NUXT çš„æ•°æ®è·å–èƒ½åŠ›ï¼Œè‡ªåŠ¨å¤„ç† SSR
            </li>
            <li>
              <strong>2. åˆç†ä½¿ç”¨ä¸­é—´ä»¶ï¼š</strong>å¤„ç†è®¤è¯ã€æƒé™ç­‰é€šç”¨é€»è¾‘
            </li>
            <li>
              <strong>3. ç»„ä»¶è‡ªåŠ¨å¯¼å…¥ï¼š</strong>åˆ©ç”¨ NUXT çš„è‡ªåŠ¨å¯¼å…¥åŠŸèƒ½ï¼Œå‡å°‘æ ·æ¿ä»£ç 
            </li>
            <li>
              <strong>4. ä¼˜åŒ–å›¾ç‰‡ï¼š</strong>ä½¿ç”¨ NuxtImage ç»„ä»¶ä¼˜åŒ–å›¾ç‰‡åŠ è½½
            </li>
            <li>
              <strong>5. SEO ä¼˜åŒ–ï¼š</strong>ä½¿ç”¨ useHead å’Œ useSeoMeta è®¾ç½®é¡µé¢å…ƒä¿¡æ¯
            </li>
            <li>
              <strong>6. é”™è¯¯å¤„ç†ï¼š</strong>åˆ›å»º error.vue é¡µé¢å¤„ç†é”™è¯¯
            </li>
            <li>
              <strong>7. æ€§èƒ½ä¼˜åŒ–ï¼š</strong>ä½¿ç”¨ lazy loadingã€ä»£ç åˆ†å‰²ç­‰ä¼˜åŒ–æŠ€æœ¯
            </li>
            <li>
              <strong>8. ç±»å‹å®‰å…¨ï¼š</strong>ä½¿ç”¨ TypeScript æé«˜ä»£ç è´¨é‡
            </li>
          </ul>
        </div>
      </section>

      <!-- 14. å¸¸è§é—®é¢˜ -->
      <section class="guide-section">
        <h2>1ï¸âƒ£4ï¸âƒ£ å¸¸è§é—®é¢˜</h2>
        <div class="content-box">
          <div class="qa-item">
            <h4>Q: NUXT 2 å’Œ NUXT 3 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
            <p>A: NUXT 3 åŸºäº Vue 3ï¼Œä½¿ç”¨ Vite ä½œä¸ºæ„å»ºå·¥å…·ï¼Œæ”¯æŒç»„åˆå¼ APIï¼Œæ€§èƒ½æ›´å¥½ï¼ŒAPI æ›´ç®€æ´ã€‚</p>
          </div>

          <div class="qa-item">
            <h4>Q: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ SSRï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ SSGï¼Ÿ</h4>
            <p>A: SSR é€‚åˆéœ€è¦åŠ¨æ€å†…å®¹ã€ç”¨æˆ·ä¸ªæ€§åŒ–æ•°æ®çš„åº”ç”¨ï¼›SSG é€‚åˆå†…å®¹ç›¸å¯¹é™æ€çš„ç½‘ç«™ï¼Œå¦‚åšå®¢ã€æ–‡æ¡£ç«™ã€‚</p>
          </div>

          <div class="qa-item">
            <h4>Q: å¦‚ä½•å¤„ç†å®¢æˆ·ç«¯ç‰¹å®šçš„ä»£ç ï¼Ÿ</h4>
            <p>A: ä½¿ç”¨ <code>process.client</code> åˆ¤æ–­ï¼Œæˆ–åˆ›å»º <code>.client.js</code> åç¼€çš„æ–‡ä»¶ã€‚</p>
          </div>

          <div class="qa-item">
            <h4>Q: å¦‚ä½•ä¼˜åŒ–é¦–å±åŠ è½½é€Ÿåº¦ï¼Ÿ</h4>
            <p>A: ä½¿ç”¨ SSGã€ä»£ç åˆ†å‰²ã€å›¾ç‰‡ä¼˜åŒ–ã€CDN åŠ é€Ÿã€å‡å°‘ JavaScript ä½“ç§¯ç­‰æ–¹æ³•ã€‚</p>
          </div>
        </div>
      </section>

      <!-- 15. Nuxt3 æ ¸å¿ƒï¼šNitro & Server API -->
      <section class="guide-section">
        <h2>1ï¸âƒ£5ï¸âƒ£ Nuxt3 æ ¸å¿ƒï¼šNitro & Server API</h2>
        <div class="content-box">
          <p>
            Nuxt3 çš„åç«¯èƒ½åŠ›æ¥è‡ª <strong>Nitro</strong>ï¼šä½ å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®é‡Œå†™æœåŠ¡ç«¯ APIï¼ˆServer Routesï¼‰ï¼Œå®ç°â€œå‰åç«¯ä¸€ä½“â€çš„å°å‹æœåŠ¡ã€‚
            è¿™å¯¹æ–‡æ¡£ç«™ã€åå°ã€BFFã€ç®€å•ä¸šåŠ¡éå¸¸å®ç”¨ã€‚
          </p>

          <h3>15.1 server/api ç¤ºä¾‹ï¼ˆREST é£æ ¼ï¼‰</h3>
          <pre v-pre class="code-block"><code>server/
â””â”€â”€ api/
    â”œâ”€â”€ hello.get.ts
    â””â”€â”€ users/
        â””â”€â”€ [id].get.ts</code></pre>

          <pre v-pre class="code-block"><code>// server/api/hello.get.ts
export default defineEventHandler(() => {
  return { ok: true, message: 'hello from nitro' }
})</code></pre>

          <h3>15.2 åœ¨é¡µé¢é‡Œè°ƒç”¨ï¼ˆuseFetch / $fetchï¼‰</h3>
          <pre v-pre class="code-block"><code>&lt;script setup&gt;
const { data, pending, error } = await useFetch('/api/hello')
// æˆ–ï¼š
// const res = await $fetch('/api/hello')
&lt;/script&gt;</code></pre>

          <h3>15.3 ç»Ÿä¸€é”™è¯¯è¿”å›ï¼ˆç¤ºæ„ï¼‰</h3>
          <pre v-pre class="code-block"><code>export default defineEventHandler(async () => {
  const user = null
  if (!user) {
    throw createError({ statusCode: 404, statusMessage: 'User not found' })
  }
  return user
})</code></pre>
        </div>
      </section>

      <!-- 16. Composablesï¼šæŠŠå¯å¤ç”¨é€»è¾‘å†™æˆ useXxx -->
      <section class="guide-section">
        <h2>1ï¸âƒ£6ï¸âƒ£ Composablesï¼šæŠŠå¯å¤ç”¨é€»è¾‘å†™æˆ useXxx</h2>
        <div class="content-box">
          <p>Nuxt ä¼šè‡ªåŠ¨å¯¼å…¥ <code>composables/</code> ä¸‹çš„å‡½æ•°ï¼Œä½ å¯ä»¥åƒç”¨å†…ç½®çš„ <code>useFetch</code> ä¸€æ ·ä½¿ç”¨è‡ªå·±çš„ <code>useXXX</code>ã€‚</p>
          <pre v-pre class="code-block"><code>// composables/useCounter.ts
export function useCounter() {
  const count = useState('count', () => 0)
  const inc = () => count.value++
  const reset = () => (count.value = 0)
  return { count, inc, reset }
}

// ä»»æ„é¡µé¢/ç»„ä»¶ä¸­
const { count, inc } = useCounter()</code></pre>
        </div>
      </section>

      <!-- 17. æ¸²æŸ“æ¨¡å¼ & è·¯ç”±è§„åˆ™ï¼šSSR/SSG/SPA + routeRules -->
      <section class="guide-section">
        <h2>1ï¸âƒ£7ï¸âƒ£ æ¸²æŸ“æ¨¡å¼ & è·¯ç”±è§„åˆ™ï¼šSSR/SSG/SPA + routeRules</h2>
        <div class="content-box">
          <p>Nuxt æ—¢èƒ½ SSRï¼Œä¹Ÿèƒ½ SSGï¼Œä¹Ÿèƒ½çº¯ SPAã€‚æ›´å¼ºçš„æ˜¯ä½ å¯ä»¥å¯¹ä¸åŒè·¯ç”±åšä¸åŒç­–ç•¥ï¼ˆç¼“å­˜ã€é¢„æ¸²æŸ“ã€ç¦ç”¨ SSRï¼‰ã€‚</p>
          <pre v-pre class="code-block"><code>// nuxt.config.tsï¼ˆç¤ºæ„ï¼‰
export default defineNuxtConfig({
  routeRules: {
    '/': { prerender: true },          // é¢„æ¸²æŸ“é¦–é¡µï¼ˆSSGï¼‰
    '/docs/**': { swr: 60 },           // stale-while-revalidate
    '/admin/**': { ssr: false }        // åå°é¡µé¢èµ° SPA
  }
})</code></pre>
          <ul class="feature-list">
            <li><strong>prerender</strong>ï¼šé€‚åˆæ–‡æ¡£/åšå®¢ï¼Œé€Ÿåº¦å¿«ã€SEO å¥½</li>
            <li><strong>swr</strong>ï¼šé€‚åˆå†…å®¹æ›´æ–°ä½†ä¸é‚£ä¹ˆé¢‘ç¹çš„é¡µé¢</li>
            <li><strong>ssr:false</strong>ï¼šé€‚åˆå¼ºäº¤äº’åå°ï¼ˆå‡å°‘ SSR å¤æ‚åº¦ï¼‰</li>
          </ul>
        </div>
      </section>

      <!-- 18. é”™è¯¯å¤„ç†ä¸é¡µé¢ï¼šerror.vue / useError -->
      <section class="guide-section">
        <h2>1ï¸âƒ£8ï¸âƒ£ é”™è¯¯å¤„ç†ä¸é¡µé¢ï¼šerror.vue / useError</h2>
        <div class="content-box">
          <h3>18.1 è‡ªå®šä¹‰é”™è¯¯é¡µ</h3>
          <pre v-pre class="code-block"><code>// æ ¹ç›®å½•åˆ›å»º error.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;å‡ºé”™äº†&lt;/h1&gt;
    &lt;p&gt;{{ error?.statusCode }} - {{ error?.message }}&lt;/p&gt;
    &lt;button @click=\"clearError({ redirect: '/' })\"&gt;å›é¦–é¡µ&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
const error = useError()
&lt;/script&gt;</code></pre>
          <p>
            æ³¨æ„ï¼šä¸Šé¢ä»£ç å—é‡Œå‡ºç°äº† <code>&#123;&#123; &#125;&#125;</code>ï¼Œåœ¨æœ¬é¡¹ç›®ï¼ˆVue æ¨¡æ¿ï¼‰é‡Œä¼šè¢«è§£æã€‚
            å¦‚æœä½ æƒ³å¤åˆ¶ç²˜è´´åˆ° Nuxt é¡¹ç›®é‡Œï¼Œè¿™æ®µæ˜¯æ­£ç¡®çš„ï¼›ä½†åœ¨æ–‡æ¡£å±•ç¤ºé‡Œè¯·ç”¨ <code>v-pre</code> æˆ–è½¬ä¹‰å¤§æ‹¬å·ã€‚
          </p>
          <p><strong>æœ¬é¡µé¢çš„ä»£ç å—å·²åŠ äº† v-pre</strong>ï¼Œå› æ­¤ä¸ä¼šè§¦å‘è§£æã€‚</p>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup>
// NUXT.JS åŸºç¡€çŸ¥è¯†è®²è§£ç»„ä»¶
</script>

<style scoped>
.nuxt-guide {
  background: white;
  padding: 20px;
  min-height: 100%;
  height: 100%;
  overflow-y: auto;
}

.guide-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 30px;
  border-radius: 12px;
  margin-bottom: 30px;
}

.guide-header h1 {
  font-size: 2rem;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.guide-header .subtitle {
  font-size: 1.1rem;
  opacity: 0.9;
  margin-bottom: 0;
}

.guide-content {
  padding: 0;
}

.guide-section {
  margin-bottom: 40px;
  border-bottom: 2px solid #f0f0f0;
  padding-bottom: 30px;
}

.guide-section:last-child {
  border-bottom: none;
}

.guide-section h2 {
  color: #667eea;
  font-size: 1.5rem;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 2px solid #667eea;
}

.guide-section h3 {
  color: #555;
  font-size: 1.2rem;
  margin-top: 25px;
  margin-bottom: 15px;
}

.guide-section h4 {
  color: #666;
  font-size: 1rem;
  margin-bottom: 10px;
}

.content-box {
  background: #f9f9f9;
  padding: 20px;
  border-radius: 8px;
  border-left: 4px solid #667eea;
}

.content-box p {
  line-height: 1.8;
  color: #333;
  margin-bottom: 15px;
}

.feature-list {
  list-style: none;
  padding: 0;
  margin: 15px 0;
}

.feature-list li {
  padding: 8px 0;
  color: #555;
  line-height: 1.6;
}

.code-block {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 20px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 15px 0;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.6;
}

.code-block code {
  color: #f8f8f2;
  white-space: pre;
}

.practice-list {
  list-style: none;
  padding: 0;
}

.practice-list li {
  padding: 12px 0;
  border-bottom: 1px solid #e0e0e0;
  line-height: 1.8;
  color: #555;
}

.practice-list li:last-child {
  border-bottom: none;
}

.practice-list strong {
  color: #667eea;
}

.qa-item {
  background: white;
  padding: 15px;
  border-radius: 6px;
  margin-bottom: 15px;
  border-left: 4px solid #667eea;
}

.qa-item h4 {
  color: #667eea;
  margin-bottom: 10px;
}

.qa-item p {
  color: #666;
  line-height: 1.6;
  margin: 0;
}

@media (max-width: 768px) {
  .nuxt-guide {
    padding: 15px;
  }

  .guide-header h1 {
    font-size: 1.5rem;
  }

  .code-block {
    font-size: 12px;
    padding: 15px;
  }
}
</style>